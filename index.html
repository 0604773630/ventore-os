<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venture-OS | Mission Control</title>
    
    <!-- Tech Stack -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        os: {
                            base: '#050505',    // Deepest Black
                            surface: '#0F0F12', // Panel Background
                            border: '#27272A',  // Borders
                            text: '#E4E4E7',    // Primary Text
                            muted: '#71717A',   // Secondary Text
                            accent: '#22D3EE',  // Cyan-400 (Neon)
                            success: '#34D399', // Green-400
                            warning: '#FBBF24', // Amber-400
                        }
                    },
                    animation: {
                        'spin-slow': 'spin 3s linear infinite',
                        'pulse-glow': 'pulseGlow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'slide-in': 'slideIn 0.3s ease-out forwards',
                    },
                    keyframes: {
                        pulseGlow: {
                            '0%, 100%': { opacity: '1', boxShadow: '0 0 10px rgba(34, 211, 238, 0.1)' },
                            '50%': { opacity: '.5', boxShadow: '0 0 20px rgba(34, 211, 238, 0.3)' },
                        },
                        slideIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #050505; color: #E4E4E7; overflow: hidden; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #0F0F12; }
        ::-webkit-scrollbar-thumb { background: #27272A; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #3F3F46; }
        
        /* Utilities */
        .glass-panel { 
            background: rgba(15, 15, 18, 0.6); 
            backdrop-filter: blur(12px); 
            border: 1px solid rgba(255,255,255,0.05); 
        }
        
        .grid-bg { 
            background-image: 
                linear-gradient(to right, #1a1a1a 1px, transparent 1px),
                linear-gradient(to bottom, #1a1a1a 1px, transparent 1px);
            background-size: 40px 40px; 
            mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
        }

        /* Mobile Frame */
        .device-frame {
            box-shadow: 0 0 0 8px #1a1a1a, 0 0 0 10px #333, 0 20px 50px rgba(0,0,0,0.5);
        }
    </style>
<script type="importmap">
{
  "imports": {
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="flex h-screen w-screen selection:bg-os-accent selection:text-black">

    <!-- ========================================== -->
    <!-- SIDEBAR NAVIGATION -->
    <!-- ========================================== -->
    <aside class="w-16 h-full bg-os-surface border-r border-os-border flex flex-col items-center py-6 z-50">
        <!-- Logo -->
        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-os-accent to-blue-600 flex items-center justify-center shadow-[0_0_15px_rgba(34,211,238,0.3)] mb-8 cursor-pointer hover:scale-105 transition-transform" onclick="location.reload()">
            <i class="fas fa-cube text-black text-lg"></i>
        </div>

        <!-- Nav Items -->
        <nav class="flex-1 w-full flex flex-col gap-4 px-2">
            <button onclick="switchApp('lobby')" id="nav-lobby" class="nav-item group relative w-full aspect-square rounded-xl flex items-center justify-center text-os-accent bg-os-border/50 transition-all">
                <i class="fas fa-rocket text-lg"></i>
                <div class="absolute left-full ml-3 px-2 py-1 bg-os-border text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50">Lobby</div>
            </button>

            <button onclick="switchApp('strategist')" id="nav-strategist" class="nav-item group relative w-full aspect-square rounded-xl flex items-center justify-center text-os-muted hover:text-white hover:bg-os-border/30 transition-all">
                <i class="fas fa-file-contract text-lg"></i>
                <div class="absolute left-full ml-3 px-2 py-1 bg-os-border text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50">Strategist</div>
            </button>

            <button onclick="switchApp('builder')" id="nav-builder" class="nav-item group relative w-full aspect-square rounded-xl flex items-center justify-center text-os-muted hover:text-white hover:bg-os-border/30 transition-all">
                <i class="fas fa-layer-group text-lg"></i>
                <div class="absolute left-full ml-3 px-2 py-1 bg-os-border text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50">Builder</div>
            </button>
        </nav>

        <!-- User -->
        <div class="mt-auto">
            <div class="w-10 h-10 rounded-full bg-os-border flex items-center justify-center text-xs font-bold text-os-muted cursor-pointer hover:text-white hover:border border-os-muted transition-all">
                JD
            </div>
        </div>
    </aside>

    <!-- ========================================== -->
    <!-- MAIN CONTENT AREA -->
    <!-- ========================================== -->
    <main class="flex-1 relative bg-os-base overflow-hidden">
        
        <!-- GLOBAL LOADER (Overlay) -->
        <div id="global-loader" class="absolute inset-0 z-[100] bg-black/90 backdrop-blur-sm hidden flex flex-col items-center justify-center">
            <div class="relative w-24 h-24 mb-8">
                <div class="absolute inset-0 border-4 border-os-border rounded-full"></div>
                <div class="absolute inset-0 border-4 border-t-os-accent border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"></div>
                <div class="absolute inset-4 bg-os-accent/10 rounded-full animate-pulse"></div>
            </div>
            <h2 class="text-2xl font-mono font-bold text-white tracking-widest mb-2">INITIALIZING</h2>
            <p class="text-os-muted font-mono text-sm" id="loader-status">Connecting to Neural Grid...</p>
        </div>

        <!-- APP 1: THE LOBBY (Input & Overview) -->
        <section id="app-lobby" class="absolute inset-0 flex flex-col items-center justify-center p-6 transition-opacity duration-300">
            <div class="absolute inset-0 grid-bg opacity-20 pointer-events-none"></div>
            <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-os-accent/5 rounded-full blur-[120px] pointer-events-none"></div>

            <div class="w-full max-w-2xl relative z-10 text-center">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-os-surface border border-os-border text-xs text-os-accent font-mono mb-8 animate-slide-in">
                    <span class="w-1.5 h-1.5 rounded-full bg-os-accent animate-pulse"></span>
                    VENTURE-OS ONLINE
                </div>

                <h1 class="text-5xl md:text-6xl font-bold tracking-tight text-white mb-6 animate-slide-in" style="animation-delay: 0.1s">
                    What are we building?
                </h1>
                
                <p class="text-lg text-os-muted mb-10 animate-slide-in" style="animation-delay: 0.2s">
                    Describe your startup idea. The OS will generate your Strategy, Business Plan, and MVP Prototype instantly.
                </p>

                <!-- Input Field -->
                <div class="relative group animate-slide-in" style="animation-delay: 0.3s">
                    <div class="absolute -inset-1 bg-gradient-to-r from-os-accent to-blue-600 rounded-xl opacity-20 group-hover:opacity-50 transition duration-500 blur"></div>
                    <div class="relative flex bg-os-surface rounded-xl border border-os-border p-1">
                        <input 
                            type="text" 
                            id="startup-input"
                            placeholder="e.g. 'Uber for dog walking' or 'AI Legal Assistant'..." 
                            class="flex-1 bg-transparent border-none text-white px-6 py-4 text-lg focus:outline-none placeholder-os-muted/50 font-light"
                            onkeydown="if(event.key === 'Enter') handleInitiate()"
                        >
                        <button onclick="handleInitiate()" class="bg-os-accent hover:bg-cyan-400 text-black font-bold px-8 rounded-lg transition-all flex items-center gap-2">
                            <span>INITIATE</span>
                            <i class="fas fa-bolt"></i>
                        </button>
                    </div>
                </div>

                <!-- Recent Projects (Mock) -->
                <div class="mt-16 text-left animate-slide-in" style="animation-delay: 0.4s">
                    <div class="text-xs font-mono text-os-muted uppercase tracking-widest mb-4">Recent Sessions</div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="p-4 rounded-lg border border-os-border bg-os-surface/50 hover:border-os-muted transition-colors cursor-pointer group">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-bold text-white group-hover:text-os-accent transition-colors">Project: Nebula</span>
                                <span class="text-[10px] bg-green-500/10 text-green-500 px-2 py-0.5 rounded">Active</span>
                            </div>
                            <div class="text-xs text-os-muted">Last edited 2 hours ago</div>
                        </div>
                        <div class="p-4 rounded-lg border border-os-border bg-os-surface/50 hover:border-os-muted transition-colors cursor-pointer group">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-bold text-white group-hover:text-os-accent transition-colors">Project: FinFlow</span>
                                <span class="text-[10px] bg-os-border text-os-muted px-2 py-0.5 rounded">Archived</span>
                            </div>
                            <div class="text-xs text-os-muted">Last edited 1 day ago</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- APP 2: THE STRATEGIST (Document Editor) -->
        <section id="app-strategist" class="absolute inset-0 hidden flex flex-col bg-os-base">
            <!-- Toolbar -->
            <div class="h-14 border-b border-os-border bg-os-surface flex items-center justify-between px-6 shrink-0 z-20">
                <div class="flex items-center gap-4">
                    <i class="fas fa-file-alt text-os-accent"></i>
                    <div>
                        <div class="text-sm font-bold text-white" id="doc-project-title">Untitled Project</div>
                        <div class="text-[10px] text-os-muted font-mono">BUSINESS_PLAN_V1.PDF</div>
                    </div>
                </div>
                <div class="flex gap-2">
                    <button class="px-3 py-1.5 text-xs bg-os-border text-white rounded hover:bg-os-muted/50 transition-colors flex items-center gap-2">
                        <i class="fas fa-share-alt"></i> Share
                    </button>
                    <button class="px-3 py-1.5 text-xs bg-os-accent text-black font-bold rounded hover:bg-cyan-300 transition-colors shadow-[0_0_10px_rgba(34,211,238,0.2)] flex items-center gap-2">
                        <i class="fas fa-save"></i> Save Changes
                    </button>
                </div>
            </div>

            <!-- Editor Viewport -->
            <div class="flex-1 overflow-y-auto p-8 md:p-12 relative flex justify-center bg-[#0a0a0a]">
                <!-- Document Page -->
                <div class="w-full max-w-[210mm] min-h-[297mm] bg-[#121212] border border-os-border shadow-2xl p-[20mm] text-gray-300 font-serif leading-relaxed relative">
                    <!-- Decor -->
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-os-accent to-transparent opacity-50"></div>
                    
                    <h1 class="text-4xl font-sans font-bold text-white mb-2" id="doc-title">Project Title</h1>
                    <p class="text-sm font-sans text-os-muted uppercase tracking-widest mb-12 border-b border-os-border pb-4">Executive Strategy Document</p>
                    
                    <div id="doc-content" class="space-y-6">
                        <!-- Content will be injected here -->
                        <div class="animate-pulse space-y-4 opacity-50">
                            <div class="h-4 bg-os-border rounded w-3/4"></div>
                            <div class="h-4 bg-os-border rounded w-full"></div>
                            <div class="h-4 bg-os-border rounded w-5/6"></div>
                        </div>
                    </div>
                </div>

                <!-- Floating AI Action -->
                <div class="fixed bottom-8 bg-os-surface border border-os-border rounded-full p-1 pl-4 flex items-center gap-3 shadow-2xl shadow-black z-30">
                    <span class="text-xs text-os-muted">AI Copilot Active</span>
                    <button class="w-8 h-8 rounded-full bg-os-accent flex items-center justify-center text-black hover:scale-110 transition-transform">
                        <i class="fas fa-magic"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- APP 3: THE BUILDER (Prototype) -->
        <section id="app-builder" class="absolute inset-0 hidden flex bg-os-base">
            
            <!-- LEFT: Chat Interface (35%) -->
            <div class="w-[400px] border-r border-os-border bg-os-surface flex flex-col shrink-0 z-20">
                <div class="p-4 border-b border-os-border flex items-center justify-between">
                    <div class="text-sm font-bold text-white"><i class="fas fa-terminal text-os-accent mr-2"></i>Builder Terminal</div>
                    <div class="w-2 h-2 rounded-full bg-os-success animate-pulse"></div>
                </div>

                <div id="chat-history" class="flex-1 overflow-y-auto p-4 space-y-4 font-mono text-sm">
                    <div class="flex gap-3 opacity-70">
                        <div class="w-6 h-6 rounded bg-os-border flex items-center justify-center shrink-0 text-[10px] text-os-muted"><i class="fas fa-robot"></i></div>
                        <div class="bg-os-border/30 p-2 rounded text-os-muted">
                            System initialized. Mobile prototype loaded.
                        </div>
                    </div>
                    <!-- Chat items injected here -->
                </div>

                <div class="p-4 border-t border-os-border bg-os-surface">
                    <div class="relative">
                        <input 
                            type="text" 
                            id="builder-input"
                            placeholder="Type command (e.g. 'Change button to purple')..." 
                            class="w-full bg-os-base border border-os-border rounded px-3 py-2 text-sm text-white focus:border-os-accent focus:outline-none font-mono"
                            onkeydown="if(event.key === 'Enter') handleBuilderChat()"
                        >
                        <i class="fas fa-chevron-right absolute right-3 top-2.5 text-xs text-os-muted"></i>
                    </div>
                </div>
            </div>

            <!-- RIGHT: Live Preview (65%) -->
            <div class="flex-1 bg-[#050505] relative flex flex-col items-center justify-center overflow-hidden">
                <div class="absolute inset-0 grid-bg opacity-10 pointer-events-none"></div>
                
                <div class="mb-4 text-xs font-mono text-os-muted uppercase tracking-widest">Live Environment: iOS 16</div>

                <!-- Phone Mockup -->
                <div class="device-frame w-[320px] h-[640px] bg-black rounded-[40px] relative overflow-hidden ring-4 ring-[#222]">
                    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-28 h-7 bg-black rounded-b-xl z-20"></div>
                    
                    <!-- App Content -->
                    <div id="mobile-app-screen" class="w-full h-full bg-white flex flex-col text-slate-900 overflow-hidden font-sans transition-all duration-500">
                        
                        <!-- Header -->
                        <div class="pt-12 px-6 pb-4 bg-slate-50 border-b border-slate-100 flex justify-between items-center" id="mobile-header">
                            <div>
                                <div class="text-xs text-slate-400 font-bold uppercase">Welcome</div>
                                <div class="text-xl font-bold" id="mobile-title">Venture App</div>
                            </div>
                            <div class="w-8 h-8 bg-slate-200 rounded-full"></div>
                        </div>

                        <!-- Body -->
                        <div class="flex-1 p-6 space-y-4 overflow-y-auto bg-white" id="mobile-body">
                            <!-- Hero Card -->
                            <div class="p-6 rounded-2xl bg-blue-600 text-white shadow-lg shadow-blue-200" id="mobile-hero-card">
                                <div class="text-sm opacity-80 mb-1">Total Balance</div>
                                <div class="text-3xl font-bold mb-4">$12,450.00</div>
                                <div class="flex gap-2">
                                    <button class="bg-white/20 px-3 py-1 rounded text-xs font-bold backdrop-blur">Deposit</button>
                                    <button class="bg-white/20 px-3 py-1 rounded text-xs font-bold backdrop-blur">Send</button>
                                </div>
                            </div>

                            <!-- List -->
                            <div class="space-y-3">
                                <div class="text-xs font-bold text-slate-400 uppercase">Recent Activity</div>
                                <div class="flex items-center justify-between p-3 rounded-xl bg-slate-50 border border-slate-100">
                                    <div class="flex items-center gap-3">
                                        <div class="w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-500"><i class="fas fa-coffee"></i></div>
                                        <div class="text-sm font-bold">Starbucks</div>
                                    </div>
                                    <div class="text-sm font-bold">-$4.50</div>
                                </div>
                                <div class="flex items-center justify-between p-3 rounded-xl bg-slate-50 border border-slate-100">
                                    <div class="flex items-center gap-3">
                                        <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-500"><i class="fas fa-arrow-down"></i></div>
                                        <div class="text-sm font-bold">Transfer</div>
                                    </div>
                                    <div class="text-sm font-bold text-green-600">+$250.00</div>
                                </div>
                            </div>
                        </div>

                        <!-- Tab Bar -->
                        <div class="h-16 border-t border-slate-100 flex justify-around items-center px-2">
                            <i class="fas fa-home text-blue-600 text-lg"></i>
                            <i class="fas fa-search text-slate-300 text-lg"></i>
                            <i class="fas fa-bell text-slate-300 text-lg"></i>
                            <i class="fas fa-user text-slate-300 text-lg"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- LOGIC -->
    <script>
        // --- CONFIG ---
        const WEBHOOK_URL = 'https://venture-os.app.n8n.cloud/webhook/49601938-8e2d-44fd-b22e-ceedc9c1ed70';
        const STORAGE_KEY = 'venture_os_project';

        // --- STATE ---
        let currentProject = {
            idea: '',
            data: null
        };

        // --- INIT ---
        window.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                currentProject = JSON.parse(saved);
                if (currentProject.data) {
                    populateApps(currentProject.data);
                    // Optional: auto-navigate to strategist if saved data exists
                    // switchApp('strategist');
                }
            }
        });

        // --- NAVIGATION ---
        function switchApp(appName) {
            // Hide all apps
            document.querySelectorAll('section').forEach(el => {
                el.classList.add('hidden');
            });
            
            // Show target app
            document.getElementById(`app-${appName}`).classList.remove('hidden');

            // Update Nav Icons
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('text-os-accent', 'bg-os-border/50');
                el.classList.add('text-os-muted');
            });
            const activeNav = document.getElementById(`nav-${appName}`);
            activeNav.classList.remove('text-os-muted');
            activeNav.classList.add('text-os-accent', 'bg-os-border/50');
        }

        // --- LOBBY LOGIC ---
        async function handleInitiate() {
            const input = document.getElementById('startup-input');
            const idea = input.value.trim();
            const loader = document.getElementById('global-loader');
            const status = document.getElementById('loader-status');

            if (!idea) return;

            // Show Loader
            loader.classList.remove('hidden');
            
            // Step 1: Status Updates (Simulation)
            const steps = ["Analyzing Market...", "Generating Revenue Model...", "Drafting Architecture...", "Finalizing Build..."];
            let stepIndex = 0;
            const statusInterval = setInterval(() => {
                if(stepIndex < steps.length) {
                    status.innerText = steps[stepIndex];
                    stepIndex++;
                }
            }, 800);

            try {
                // Step 2: API Call
                const response = await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ idea: idea })
                });

                clearInterval(statusInterval);
                status.innerText = "Synchronizing Data...";

                if (!response.ok) throw new Error("API Failed");

                const result = await response.json();
                
                // Step 3: Success
                currentProject = {
                    idea: idea,
                    data: result
                };
                localStorage.setItem(STORAGE_KEY, JSON.stringify(currentProject));

                populateApps(result);
                
                setTimeout(() => {
                    loader.classList.add('hidden');
                    switchApp('strategist');
                }, 1000);

            } catch (error) {
                clearInterval(statusInterval);
                console.error(error);
                status.innerText = "Connection Error. Loading Offline Mode...";
                
                // Fallback for demo if API fails
                const mockData = {
                    projectName: idea,
                    businessPlan: `Strategy for ${idea}\n\n1. Executive Summary\nTargeting high-growth vertical with AI-driven solution.\n\n2. Monetization\nSubscription model at $29/mo.`
                };
                currentProject = { idea, data: mockData };
                populateApps(mockData);
                
                setTimeout(() => {
                    loader.classList.add('hidden');
                    switchApp('strategist');
                }, 1500);
            }
        }

        // --- DATA BINDING ---
        function populateApps(data) {
            // Safe accessors in case API structure varies
            const title = data.projectName || data.title || currentProject.idea || "Untitled Project";
            const content = data.businessPlan || data.strategy || data.content || JSON.stringify(data, null, 2);

            // Strategist
            document.getElementById('doc-title').innerText = title;
            document.getElementById('doc-project-title').innerText = title;
            document.getElementById('doc-content').innerHTML = `
                <p>${content.replace(/\n/g, '<br><br>')}</p>
            `;

            // Builder (Mobile)
            document.getElementById('mobile-title').innerText = title.substring(0, 12);
        }

        // --- BUILDER CHAT LOGIC ---
        function handleBuilderChat() {
            const input = document.getElementById('builder-input');
            const history = document.getElementById('chat-history');
            const text = input.value.trim();

            if (!text) return;

            // User Msg
            const userDiv = document.createElement('div');
            userDiv.className = "flex gap-3 flex-row-reverse animate-slide-in";
            userDiv.innerHTML = `
                <div class="w-6 h-6 rounded bg-os-accent flex items-center justify-center shrink-0 text-[10px] text-black font-bold">ME</div>
                <div class="bg-os-accent/10 border border-os-accent/20 p-2 rounded text-os-text">
                    ${text}
                </div>
            `;
            history.appendChild(userDiv);
            input.value = '';
            history.scrollTop = history.scrollHeight;

            // AI Processing
            setTimeout(() => {
                const aiDiv = document.createElement('div');
                aiDiv.className = "flex gap-3 animate-slide-in";
                aiDiv.innerHTML = `
                    <div class="w-6 h-6 rounded bg-os-border flex items-center justify-center shrink-0 text-[10px] text-os-muted"><i class="fas fa-robot"></i></div>
                    <div class="bg-os-border/30 p-2 rounded text-os-muted">
                        Processing change...
                    </div>
                `;
                history.appendChild(aiDiv);
                history.scrollTop = history.scrollHeight;

                // Execute Change (Visual Simulation)
                setTimeout(() => {
                    aiDiv.innerHTML = `
                        <div class="w-6 h-6 rounded bg-os-border flex items-center justify-center shrink-0 text-[10px] text-os-muted"><i class="fas fa-robot"></i></div>
                        <div class="bg-os-border/30 p-2 rounded text-os-muted">
                            <span class="text-os-success text-xs block mb-1">âœ“ UPDATED</span>
                            I've applied that change to the live prototype.
                        </div>
                    `;
                    
                    applyVisualChange(text);

                }, 1000);
            }, 500);
        }

        function applyVisualChange(command) {
            const cmd = command.toLowerCase();
            const heroCard = document.getElementById('mobile-hero-card');
            
            if (cmd.includes('red')) {
                heroCard.className = "p-6 rounded-2xl bg-red-600 text-white shadow-lg shadow-red-200 transition-all duration-500";
            } else if (cmd.includes('green')) {
                heroCard.className = "p-6 rounded-2xl bg-green-600 text-white shadow-lg shadow-green-200 transition-all duration-500";
            } else if (cmd.includes('purple')) {
                heroCard.className = "p-6 rounded-2xl bg-purple-600 text-white shadow-lg shadow-purple-200 transition-all duration-500";
            } else if (cmd.includes('dark')) {
                document.getElementById('mobile-app-screen').className = "w-full h-full bg-slate-900 flex flex-col text-white overflow-hidden font-sans transition-all duration-500";
                document.getElementById('mobile-header').className = "pt-12 px-6 pb-4 bg-slate-800 border-b border-slate-700 flex justify-between items-center";
                document.getElementById('mobile-body').className = "flex-1 p-6 space-y-4 overflow-y-auto bg-slate-900";
            }
        }

        // Initialize Lobby by default
        switchApp('lobby');

    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>